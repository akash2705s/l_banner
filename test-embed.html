<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Embed - Canvas Ad</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/akash768145s/L_Banner@1.0/dist/lbanner-player.min.css"
    />
    <style>
      body {
        margin: 0;
        padding: 20px;
        background: #0f172a;
        color: #e2e8f0;
        font-family: system-ui, -apple-system, sans-serif;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      h1 {
        color: #60a5fa;
      }
      .info {
        background: #1e293b;
        padding: 1rem;
        border-radius: 0.5rem;
        margin-bottom: 2rem;
        border: 1px solid #334155;
      }
      .info code {
        background: #0f172a;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        color: #60a5fa;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Canvas Ad Test Page</h1>
      <div class="info">
        <p><strong>Instructions:</strong></p>
        <ol>
          <li>
            Copy the embed script from your element in the Canvas dashboard
          </li>
          <li>Replace <code>YOUR_VIDEO_URL_HERE</code> with your video URL</li>
          <li>Replace <code>"your-api-key-here"</code> if required</li>
          <li>Paste the script below</li>
        </ol>
      </div>

      <!-- Video Player Container -->
      <div id="player-shell" class="shaka-player-container">
        <div id="video-area" data-role="video-area">
          <video
            id="video-element"
            class="shaka-video"
            data-video-src="https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd"
            autoplay
            muted
            playsinline
            controls
            style="width: 100%; max-width: 800px; height: auto"
          ></video>
        </div>
        <div id="l-banner-host" aria-live="polite"></div>
      </div>

      <!-- L-Banner Player Library -->
      <script src="https://cdn.jsdelivr.net/gh/akash768145s/L_Banner@1.0/dist/lbanner-player.min.js"></script>
      <script>
        // Analytics Configuration - MUST be set before initialization
        window.ENABLE_ANALYTICS = true; // Required for banners to work
        window.LBannerAnalyticsConfig = {
          showStatusPanel: false,
          showCachePanel: false,
        };

        // Initialize L-Banner Player
        document.addEventListener("DOMContentLoaded", async () => {
          try {
            const ENABLE_COOKIE_TRACKING = false; // Set to true/false
            const SHOW_BANNERS_ON_PAUSE = true; // Set to true/false

            // ⚠️ REPLACE THIS WITH YOUR VAST URL FROM THE SCRIPT MODAL
            const VAST_URL = "YOUR_VAST_URL_HERE"; // Get this from the Script Modal

            await window.LBannerPlayer.init({
              apiKey: "your-api-key-here",
              vastUrl: VAST_URL,
              enableCookieTracking: ENABLE_COOKIE_TRACKING,
              showBannersOnPause: SHOW_BANNERS_ON_PAUSE,
            });

            console.log("✅ L-Banner initialized successfully");
          } catch (error) {
            console.error("❌ Failed to initialize L-Banner:", error);
          }
        });
      </script>
    </div>
  </body>
</html>
